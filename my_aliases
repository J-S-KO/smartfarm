# ==========================================
# ğŸŒ¿ ìŠ¤ë§ˆíŠ¸íŒœ ì „ìš© ë‹¨ì¶•í‚¤ ì„¤ì • (Final_v2)
# ==========================================

# ------------------------------------------
# 1. ì„œë¹„ìŠ¤ ì œì–´ (Smartfarm Service)
# ------------------------------------------
alias farm-on='sudo systemctl start smartfarm'      # ì¼œê¸°
alias farm-off='sudo systemctl stop smartfarm'      # ë„ê¸°
alias farm-restart='sudo systemctl restart smartfarm' # ì¬ì‹œì‘
alias farm-check='sudo systemctl status smartfarm -n 0' # ìƒíƒœ í™•ì¸
alias farm-log='journalctl -u smartfarm -f'         # ì‹¤ì‹œê°„ ë¡œê·¸

# ------------------------------------------
# 2. ê°œë°œ ë° ì—…ë°ì´íŠ¸ (Dev & Upload)
# ------------------------------------------
# [íŒŒì´ì¬] ë©”ì¸ ì½”ë“œ ìˆ˜ì •
# ì£¼ì˜: ìˆ˜ì • í›„ 'farm-restart'ë¥¼ í•´ì•¼ ì ìš©ë©ë‹ˆë‹¤.
alias farm-edit='nano ~/smartfarm/main.py'

# [ì•„ë‘ì´ë…¸] ì½”ë“œ ìˆ˜ì • (Board_A.ino)
alias farm-ino='nano ~/smartfarm/Board_A/Board_A.ino'

# [ì•„ë‘ì´ë…¸] íŒì›¨ì–´ ì—…ë¡œë“œ (ì¶©ëŒ ë°©ì§€ ìë™í™”)
# ì„¤ëª…: ì„œë¹„ìŠ¤ ì •ì§€ -> ì»´íŒŒì¼ -> ì—…ë¡œë“œ -> ì„œë¹„ìŠ¤ ì¬ì‹œì‘ (Uno @ /dev/ttyACM0)
alias farm-ino-up='echo "ğŸ›‘ ì¶©ëŒ ë°©ì§€ë¥¼ ìœ„í•´ ì„œë¹„ìŠ¤ ì •ì§€..." && sudo systemctl stop smartfarm && echo "ğŸ”¨ ì»´íŒŒì¼ ë° ì—…ë¡œë“œ ì¤‘..." && arduino-cli compile --fqbn arduino:avr:uno ~/smartfarm/Board_A && arduino-cli upload -p /dev/ttyACM0 --fqbn arduino:avr:uno ~/smartfarm/Board_A && echo "âœ… ì—…ë¡œë“œ ì™„ë£Œ! ì„œë¹„ìŠ¤ ì¬ì‹œì‘ ğŸš€" && sudo systemctl start smartfarm'

# ------------------------------------------
# 3. ì‹œìŠ¤í…œ ê´€ë¦¬ (System & Config)
# ------------------------------------------
alias farm-sleep='sudo shutdown -h now'             # ì‹œìŠ¤í…œ ì¢…ë£Œ
alias myip='hostname -I'                            # IP ì£¼ì†Œ í™•ì¸
alias farm-conf='nano ~/.bash_aliases && source ~/.bashrc' # ì´ ì„¤ì • íŒŒì¼ ìˆ˜ì •

# ------------------------------------------
# 4. ë„ìš°ë¯¸ í•¨ìˆ˜ (Cheatsheets)
# ------------------------------------------

# [Git ëª…ë ¹ì–´ ëª¨ìŒ]
function git-help() {
    cat << "EOF"

=== ğŸŒ¿ Git ëª…ë ¹ì–´ ì»¤ë‹ í˜ì´í¼ ===

1. ìƒíƒœ í™•ì¸:  git status
2. ì €ì¥í•˜ê¸°:   git add .  â†’  git commit -m "ë©”ì‹œì§€"
3. ê¸°ë¡ ë³´ê¸°:  git log --oneline --graph --all
4. ë˜ëŒë¦¬ê¸°:   git checkout -- íŒŒì¼ëª… (ìˆ˜ì • ì·¨ì†Œ)
               git reset --soft HEAD~1 (ì»¤ë°‹ ì·¨ì†Œ)
EOF
}

# [SCP íŒŒì¼ ì „ì†¡ ëª…ë ¹ì–´ ëª¨ìŒ] - ë…¸íŠ¸ë¶ìš©
function scp-help() {
    CURRENT_IP=$(hostname -I | awk '{print $1}')
    cat << EOF

=== ğŸ’» SCP íŒŒì¼ ì „ì†¡ ê°€ì´ë“œ (ë…¸íŠ¸ë¶ì—ì„œ ì‹¤í–‰) ===

âš ï¸  ì´ ëª…ë ¹ì–´ëŠ” ë¼ì¦ˆë² ë¦¬íŒŒì´ê°€ ì•„ë‹ˆë¼ [ë…¸íŠ¸ë¶ í„°ë¯¸ë„]ì—ì„œ ì“°ëŠ” ê²ë‹ˆë‹¤!
    (í˜„ì¬ ë¼ì¦ˆë² ë¦¬íŒŒì´ IP: $CURRENT_IP)

1. [ë…¸íŠ¸ë¶ â†’ ë¼ì¦ˆë² ë¦¬íŒŒì´] íŒŒì¼ ë³´ë‚´ê¸°
   $ scp ë‚´íŒŒì¼.py pi@$CURRENT_IP:~/smartfarm/

2. [ë¼ì¦ˆë² ë¦¬íŒŒì´ â†’ ë…¸íŠ¸ë¶] íŒŒì¼ ê°€ì ¸ì˜¤ê¸°
   $ scp pi@$CURRENT_IP:~/smartfarm/ë°ì´í„°.csv .

3. í´ë” í†µì§¸ë¡œ ë³´ë‚´ê¸° (-r ì˜µì…˜)
   $ scp -r ë‚´í´ë” pi@$CURRENT_IP:~/smartfarm/

EOF
}

# [ì „ì²´ ëª…ë ¹ì–´ ë©”ë‰´íŒ]
function farm-help() {
    cat << "EOF"

=== ğŸ“ ìŠ¤ë§ˆíŠ¸íŒœ ëª…ë ¹ì–´ ë©”ë‰´íŒ ===

[ì„œë¹„ìŠ¤ ì œì–´]
  farm-on / off / restart  : ì„œë¹„ìŠ¤ ì¼œê¸° / ë„ê¸° / ì¬ì‹œì‘
  farm-check               : ì‘ë™ ìƒíƒœ í™•ì¸ (Active?)
  farm-log                 : ì‹¤ì‹œê°„ ë¡œê·¸ ê°ì‹œ

[ê°œë°œ ë° ë°°í¬]
  farm-edit                : íŒŒì´ì¬ ì½”ë“œ ìˆ˜ì • (ìˆ˜ì • í›„ restart í•„ìˆ˜!)
  farm-ino                 : ì•„ë‘ì´ë…¸ ì½”ë“œ ìˆ˜ì • (Board_A)
  farm-ino-up              : ì•„ë‘ì´ë…¸ ì»´íŒŒì¼ & ì—…ë¡œë“œ (ìë™ ì¬ì‹œì‘)
  
[ì‹œìŠ¤í…œ ê´€ë¦¬]
  farm-sleep               : ì „ì› ë„ê¸° (Shutdown)
  myip                     : IP ì£¼ì†Œ í™•ì¸
  farm-conf                : ë‹¨ì¶•í‚¤ ì„¤ì • ìˆ˜ì •

[ë„ì›€ë§]
  git-help                 : Git ëª…ë ¹ì–´ ë³´ê¸°
  scp-help                 : ë…¸íŠ¸ë¶ â†” ë¼ì¦ˆë² ë¦¬ íŒŒì¼ ì „ì†¡ë²•

EOF
}
